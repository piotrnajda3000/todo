/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/index.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/index.css ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n:root {\n  --todo-max-width: 280px;\n}\n\nhtml {\n  height: 100%;\n}\n\nbody {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  background-color: hsl(0, 0%, 7%);\n  color: hsl(0, 0%, 94%);\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n}\n\ndiv .todo:not(:nth-last-child(1)) {\n  margin-bottom: 0.5rem;\n}\n\ninput,\nlabel {\n  display: block;\n}\n\ninput,\nlabel {\n  margin-block-end: 1rem;\n  margin-block-start: 1rem;\n}\n\nh2 {\n  margin-block-start: 0.5rem;\n  margin-block-end: 0.5rem;\n}\n\nbutton {\n  background: hsl(0, 0%, 24%);\n  color: white;\n  border: 0;\n}\n\n#todosContainer {\n  margin: 0.5rem;\n}\n\n.todo {\n  padding: 0.5rem;\n  background-color: hsl(0, 0%, 16%);\n  /* width: for new todo button purposes */\n  width: var(--todo-max-width);\n}\n\n.ctrlButton {\n  margin-right: 0.5rem;\n}\n", "",{"version":3,"sources":["webpack://./src/index.css"],"names":[],"mappings":"AAAA;;;EAGE,sBAAsB;AACxB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,sBAAsB;EACtB,gCAAgC;EAChC,sBAAsB;EACtB;gEAC8D;AAChE;;AAEA;EACE,qBAAqB;AACvB;;AAEA;;EAEE,cAAc;AAChB;;AAEA;;EAEE,sBAAsB;EACtB,wBAAwB;AAC1B;;AAEA;EACE,0BAA0B;EAC1B,wBAAwB;AAC1B;;AAEA;EACE,2BAA2B;EAC3B,YAAY;EACZ,SAAS;AACX;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,iCAAiC;EACjC,wCAAwC;EACxC,4BAA4B;AAC9B;;AAEA;EACE,oBAAoB;AACtB","sourcesContent":["*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n:root {\n  --todo-max-width: 280px;\n}\n\nhtml {\n  height: 100%;\n}\n\nbody {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  background-color: hsl(0, 0%, 7%);\n  color: hsl(0, 0%, 94%);\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n}\n\ndiv .todo:not(:nth-last-child(1)) {\n  margin-bottom: 0.5rem;\n}\n\ninput,\nlabel {\n  display: block;\n}\n\ninput,\nlabel {\n  margin-block-end: 1rem;\n  margin-block-start: 1rem;\n}\n\nh2 {\n  margin-block-start: 0.5rem;\n  margin-block-end: 0.5rem;\n}\n\nbutton {\n  background: hsl(0, 0%, 24%);\n  color: white;\n  border: 0;\n}\n\n#todosContainer {\n  margin: 0.5rem;\n}\n\n.todo {\n  padding: 0.5rem;\n  background-color: hsl(0, 0%, 16%);\n  /* width: for new todo button purposes */\n  width: var(--todo-max-width);\n}\n\n.ctrlButton {\n  margin-right: 0.5rem;\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join("");
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === "string") {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, ""]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js":
/*!************************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/cssWithMappingToString.js ***!
  \************************************************************************/
/***/ ((module) => {

"use strict";


function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

module.exports = function cssWithMappingToString(item) {
  var _item = _slicedToArray(item, 4),
      content = _item[1],
      cssMapping = _item[3];

  if (!cssMapping) {
    return content;
  }

  if (typeof btoa === "function") {
    // eslint-disable-next-line no-undef
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
  }

  return [content].join("\n");
};

/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };

    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);

  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }

      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };

  return updater;
}

module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();

        stylesInDOM.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};
/* istanbul ignore next  */

function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }

    memo[target] = styleTarget;
  }

  return memo[target];
}
/* istanbul ignore next  */


function insertBySelector(insert, style) {
  var target = getTarget(insert);

  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }

  target.appendChild(style);
}

module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}

module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;

  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}

module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";

  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }

  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }

  var needLayer = typeof obj.layer !== "undefined";

  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }

  css += obj.css;

  if (needLayer) {
    css += "}";
  }

  if (obj.media) {
    css += "}";
  }

  if (obj.supports) {
    css += "}";
  }

  var sourceMap = obj.sourceMap;

  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  options.styleTagTransform(css, styleElement, options.options);
}

function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }

  styleElement.parentNode.removeChild(styleElement);
}
/* istanbul ignore next  */


function domAPI(options) {
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}

module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }

    styleElement.appendChild(document.createTextNode(css));
  }
}

module.exports = styleTagTransform;

/***/ }),

/***/ "./node_modules/uniqid/index.js":
/*!**************************************!*\
  !*** ./node_modules/uniqid/index.js ***!
  \**************************************/
/***/ ((module) => {

/* 
(The MIT License)
Copyright (c) 2014-2021 Halász Ádám <adam@aimform.com>
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

//  Unique Hexatridecimal ID Generator
// ================================================

//  Dependencies
// ================================================
var pid = typeof process !== 'undefined' && process.pid ? process.pid.toString(36) : '' ;
var address = '';
if(false){ var i, networkInterfaces, mac, os; } 

//  Exports
// ================================================
module.exports = module.exports["default"] = function(prefix, suffix){ return (prefix ? prefix : '') + address + pid + now().toString(36) + (suffix ? suffix : ''); }
module.exports.process = function(prefix, suffix){ return (prefix ? prefix : '') + pid + now().toString(36) + (suffix ? suffix : ''); }
module.exports.time    = function(prefix, suffix){ return (prefix ? prefix : '') + now().toString(36) + (suffix ? suffix : ''); }

//  Helpers
// ================================================
function now(){
    var time = Date.now();
    var last = now.last || time;
    return now.last = time > last ? time : last + 1;
}


/***/ }),

/***/ "./src/Project.js":
/*!************************!*\
  !*** ./src/Project.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Project)
/* harmony export */ });
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_0__);


const projectProto = {
  addTodo(todo) {
    this.todos.push(todo);
    return this;
  },
  deleteTodo(todoId) {
    const todoIdx = this.todos.findIndex((todo) => todo.id === todoId);
    this.todos.splice(todoIdx, 1);
    return this;
  },
  getTodo(todoId) {
    return this.todos.find((todo) => todo.id === todoId);
  },
  rename(newName) {
    this.name = newName;
  },
};

function Project(name) {
  const todos = [];
  const id = uniqid__WEBPACK_IMPORTED_MODULE_0___default()();
  return Object.assign(Object.create(projectProto), { name, id, todos });
}


/***/ }),

/***/ "./src/Todo.js":
/*!*********************!*\
  !*** ./src/Todo.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Todo)
/* harmony export */ });
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_0__);


const TodoProto = {
  edit(prop, val) {
    this[prop] = val;
    return this;
  },
  switchComplete() {
    this.complete = this.complete ? false : true;
    return this;
  },
  switchEditMode() {
    this.editMode = this.editMode ? false : true;
    return this;
  },
};

function Todo(title, priority, dueDate) {
  return Object.assign({}, TodoProto, {
    title,
    priority,
    dueDate,
    complete: false,
    id: uniqid__WEBPACK_IMPORTED_MODULE_0___default()(),
  });
}


/***/ }),

/***/ "./src/dom/dom.js":
/*!************************!*\
  !*** ./src/dom/dom.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _view_project_project__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view/project/project */ "./src/dom/view/project/project.js");


const refreshDisplay = (projectName) => {
  document.body.innerHTML = "";
  (0,_view_project_project__WEBPACK_IMPORTED_MODULE_0__.projectView)(projectName);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  refreshDisplay,
  lastViewedProject: null,
});


/***/ }),

/***/ "./src/dom/helpers.js":
/*!****************************!*\
  !*** ./src/dom/helpers.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "htmlToElement": () => (/* binding */ htmlToElement)
/* harmony export */ });
// https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518
function htmlToElement(html) {
  let template = document.createElement("template");
  html = html.trim(); // Never return a text node of whitespace as the result
  template.innerHTML = html;
  return template.content.firstChild;
}


/***/ }),

/***/ "./src/dom/view/project/buttons.js":
/*!*****************************************!*\
  !*** ./src/dom/view/project/buttons.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "editProjectButtons": () => (/* binding */ editProjectButtons),
/* harmony export */   "editProjectChoiceButtons": () => (/* binding */ editProjectChoiceButtons),
/* harmony export */   "newTodoButton": () => (/* binding */ newTodoButton),
/* harmony export */   "projectListButtons": () => (/* binding */ projectListButtons),
/* harmony export */   "newProjectButton": () => (/* binding */ newProjectButton),
/* harmony export */   "createButton": () => (/* binding */ createButton)
/* harmony export */ });
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../helpers */ "./src/dom/helpers.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../.. */ "./src/index.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dom */ "./src/dom/dom.js");
/* harmony import */ var _stateContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stateContainer */ "./src/dom/view/project/stateContainer.js");
/* harmony import */ var _forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./forms */ "./src/dom/view/project/forms.js");






/* Project heading */

function editProjectButtons(projectName) {
  const buttonsContainer = document.createElement("div");
  const editProject = createButton("Edit project");
  const deleteProject = createButton("Delete project");
  editProject.addEventListener("click", () => {
    _stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.projectHeading = true;
    _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(projectName);
  });
  deleteProject.addEventListener("click", () => {
    if (___WEBPACK_IMPORTED_MODULE_1__.projects.storage.length > 1) {
      ___WEBPACK_IMPORTED_MODULE_1__.projects.remove(projectName);
      _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(___WEBPACK_IMPORTED_MODULE_1__.projects.storage[0].name);
    } else {
      alert("I'll implement removing the last project later, maybe.");
    }
  });
  buttonsContainer.append(editProject, deleteProject);
  document.body.append(buttonsContainer);
}

function editProjectChoiceButtons(
  editProjectDiv,
  projectName,
  projectNameInput
) {
  const renameButton = editProjectDiv.querySelector('button[type="submit"]');
  const cancelButton = editProjectDiv.querySelector('button[type="button"]');
  renameButton.addEventListener("click", (e) => {
    e.preventDefault();
    const newProjectName = projectNameInput.value;
    ___WEBPACK_IMPORTED_MODULE_1__.projects.get(projectName).rename(newProjectName);
    _stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.projectHeading = false;
    _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(newProjectName);
  });
  cancelButton.addEventListener("click", () => {
    _stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.projectHeading = false;
    _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(_dom__WEBPACK_IMPORTED_MODULE_2__["default"].lastViewedProject);
  });
}

/* New todo button */

function newTodoButton(projectName) {
  let addTodo = `<button class="ctrlButton" data-control="newTodoForm">New todo</button>`;
  addTodo = (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.htmlToElement)(addTodo);
  addTodo.style.width = "var(--todo-max-width)";
  addTodo.addEventListener("click", () => {
    _stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.newTodo = true;
    _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(_dom__WEBPACK_IMPORTED_MODULE_2__["default"].lastViewedProject);
    (0,_forms__WEBPACK_IMPORTED_MODULE_4__.newTodoForm)(projectName); 
  })
  return addTodo;
}

/* Project list buttons and add button */

function projectListButtons() {
  const buttons = [];
  for (const project of ___WEBPACK_IMPORTED_MODULE_1__.projects.storage) {
    const switchButton = createButton(project.name);
    switchButton.addEventListener("click", () => {
      _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(project.name);
    });
    buttons.push(switchButton);
  }
  return buttons;
}

function newProjectButton() {
  const addButton = createButton("+");
  addButton.addEventListener("click", () => {
    const [newProjectDiv, newProjectInput] = (0,_forms__WEBPACK_IMPORTED_MODULE_4__.newProjectForm)();
    const submitButton = newProjectDiv.querySelector('button[type="submit"]');
    const cancelButton = newProjectDiv.querySelector('button[type="button"]');
    submitButton.addEventListener("click", (e) => {
      e.preventDefault();
      const newProjectName = newProjectInput.value;
      ___WEBPACK_IMPORTED_MODULE_1__.projects.add(newProjectName);
      _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(newProjectName);
    });
    cancelButton.addEventListener("click", () => { 
      _dom__WEBPACK_IMPORTED_MODULE_2__["default"].refreshDisplay(_dom__WEBPACK_IMPORTED_MODULE_2__["default"].lastViewedProject);
    });
  });
  return addButton;
}

function createButton(text) {
  const html = `<button class="ctrlButton">${text}</button>`;
  return (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.htmlToElement)(html);
}


/***/ }),

/***/ "./src/dom/view/project/forms.js":
/*!***************************************!*\
  !*** ./src/dom/view/project/forms.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "editProjectNameForm": () => (/* binding */ editProjectNameForm),
/* harmony export */   "newProjectForm": () => (/* binding */ newProjectForm),
/* harmony export */   "newTodoForm": () => (/* binding */ newTodoForm)
/* harmony export */ });
/* harmony import */ var _buttons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buttons */ "./src/dom/view/project/buttons.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../.. */ "./src/index.js");
/* harmony import */ var _Todo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Todo */ "./src/Todo.js");
/* harmony import */ var _todo_priority__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../todo/priority */ "./src/dom/view/todo/priority.js");
/* harmony import */ var _stateContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stateContainer */ "./src/dom/view/project/stateContainer.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../helpers */ "./src/dom/helpers.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../dom */ "./src/dom/dom.js");










const editProjectNameForm = (projectName) => {
  const editProjectDiv = document.createElement("div");
  const editProjectForm = `
  <form action="#" method="post">
    <div>
      <label for="projectHeadingName">
        <input type="text" name="projectHeadingName" id="projectHeadingName" value="${projectName}"/>
      </label>
    </div>
    <div>
      <button type="submit">Rename</button>
      <button type="button">Cancel</button>
    </div>
  </form>
`;
  editProjectDiv.insertAdjacentHTML("beforeend", editProjectForm);
  document.body.append(editProjectDiv);
  const projectNameInput = editProjectDiv.querySelector(
    'input[name="projectHeadingName"]'
  );
  (0,_buttons__WEBPACK_IMPORTED_MODULE_0__.editProjectChoiceButtons)(editProjectDiv, projectName, projectNameInput);
};

const newProjectForm = () => {
  const defaultName = ___WEBPACK_IMPORTED_MODULE_1__.projects.storage.length + 1;
  const newProjectDiv = document.createElement("div");
  const projectForm = `
      <form action="#" method="post">
        <div>
          <label for="newProject">New project 
            <input type="text" name="newProject" id="newProject" value="Project ${defaultName}"/>
          </label>
        </div>
        <div>
          <button type="submit">Add</button>
          <button type="button">Cancel</button>
        </div>
      </form>
    `;
  newProjectDiv.insertAdjacentHTML("beforeend", projectForm);
  document.body.append(newProjectDiv);
  const newProjectInput = newProjectDiv.querySelector(
    'input[name="newProject"]'
  );
  return [newProjectDiv, newProjectInput];
};

const newTodoForm = (projectName) => {

  const defaultName = `Todo ${
    ___WEBPACK_IMPORTED_MODULE_1__.projects.get(projectName).todos.length + 1
  }`;

  let {title, priority, todoId, complete} = (0,_Todo__WEBPACK_IMPORTED_MODULE_2__["default"])(defaultName, "Soon"); 

  if (complete) {
    complete = "Done!";
  } else {
    complete = "Not done... yet!";
  }

  let newTodoForm = `
    <div class="todo" data-todo_id="${todoId}" data-project_name="${projectName}">
      <div class="todoInputs">
        <label for="title">
          <input type="text" value="${title}" name="title" id="title"/>
        </label>
        <label for="priority">
          <input type="range" value="${(0,_todo_priority__WEBPACK_IMPORTED_MODULE_3__.mapPriorityToValue)(
            priority
          )}" min="0" max="3" name="priority" id="priority"/>${priority}
        </label>
        <p>${complete}</p>
      </div>
      <div class="todoEdit">
        <button data-control="addTodo">Add</button>
        <button data-control="cancelTodo">Cancel</button>
      </div>
    </div>
    `;
  newTodoForm = (0,_helpers__WEBPACK_IMPORTED_MODULE_5__.htmlToElement)(newTodoForm);
  
  const cancelTodo = newTodoForm.querySelector(`button[data-control="cancelTodo"]`);
  const addTodo = newTodoForm.querySelector(`button[data-control="addTodo"]`);



  addTodo.addEventListener("click", () => {
    _stateContainer__WEBPACK_IMPORTED_MODULE_4__.state.editMode.newTodo = false;
    title = newTodoForm.querySelector(`input#title`).value;
    priority = newTodoForm.querySelector('input#priority').value;
    priority = (0,_todo_priority__WEBPACK_IMPORTED_MODULE_3__.mapValueToPriority)(+priority);
    ___WEBPACK_IMPORTED_MODULE_1__.projects.get(projectName).addTodo((0,_Todo__WEBPACK_IMPORTED_MODULE_2__["default"])(title, priority));
  })

  cancelTodo.addEventListener("click", () => {
    _stateContainer__WEBPACK_IMPORTED_MODULE_4__.state.editMode.newTodo = false;
    _dom__WEBPACK_IMPORTED_MODULE_6__["default"].refreshDisplay(projectName);
  })

  const todosContainer = document.querySelector("#todosContainer");
  todosContainer.append(newTodoForm); 
};


/***/ }),

/***/ "./src/dom/view/project/project.js":
/*!*****************************************!*\
  !*** ./src/dom/view/project/project.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "projectView": () => (/* binding */ projectView)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dom */ "./src/dom/dom.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../.. */ "./src/index.js");
/* harmony import */ var _todo_todo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../todo/todo */ "./src/dom/view/todo/todo.js");
/* harmony import */ var _stateContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stateContainer */ "./src/dom/view/project/stateContainer.js");
/* harmony import */ var _buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buttons */ "./src/dom/view/project/buttons.js");
/* harmony import */ var _forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./forms */ "./src/dom/view/project/forms.js");







const projectView = (projectName) => {
  _dom__WEBPACK_IMPORTED_MODULE_0__["default"].lastViewedProject = projectName;

  if (_stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.projectHeading) {
    (0,_forms__WEBPACK_IMPORTED_MODULE_5__.editProjectNameForm)(projectName);
  } else {
    document.body.insertAdjacentHTML(
      "beforeend",
      `<h2 id="projectHeading">${projectName}</h2>`
    );
  }

  if (!_stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.projectHeading && !_stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.newTodo) {
    (0,_buttons__WEBPACK_IMPORTED_MODULE_4__.editProjectButtons)(projectName);
  }

  // Create todos either in view, or edit mode
  const todosContainer = document.createElement("div");
  todosContainer.setAttribute("id", "todosContainer");
  if(!_stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.newTodo) {
    const project = ___WEBPACK_IMPORTED_MODULE_1__.projects.get(projectName);
    project.todos.forEach((todo) => {
      if (!todo.editMode) {
        (0,_todo_todo__WEBPACK_IMPORTED_MODULE_2__.todoView)(todo, projectName, todosContainer).view();
      } else {
        (0,_todo_todo__WEBPACK_IMPORTED_MODULE_2__.todoView)(todo, projectName, todosContainer).edit();
      }
    });
  }

  document.body.append(todosContainer);

  if(!_stateContainer__WEBPACK_IMPORTED_MODULE_3__.state.editMode.newTodo) {
    todosContainer.append((0,_buttons__WEBPACK_IMPORTED_MODULE_4__.newTodoButton)(projectName));
    const projectsList = document.createElement("div");
    projectsList.append(...(0,_buttons__WEBPACK_IMPORTED_MODULE_4__.projectListButtons)(), (0,_buttons__WEBPACK_IMPORTED_MODULE_4__.newProjectButton)());
    document.body.append(projectsList);
  }



};


/***/ }),

/***/ "./src/dom/view/project/stateContainer.js":
/*!************************************************!*\
  !*** ./src/dom/view/project/stateContainer.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "state": () => (/* binding */ state)
/* harmony export */ });
const state = {
  editMode: {
    projectHeading: false, 
    newTodo: false,
  } 
}

/***/ }),

/***/ "./src/dom/view/todo/bindEvents.js":
/*!*****************************************!*\
  !*** ./src/dom/view/todo/bindEvents.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bindChangeEvents": () => (/* binding */ bindChangeEvents),
/* harmony export */   "bindEditEvents": () => (/* binding */ bindEditEvents),
/* harmony export */   "bindViewEvents": () => (/* binding */ bindViewEvents)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dom */ "./src/dom/dom.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../.. */ "./src/index.js");
/* harmony import */ var _priority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./priority */ "./src/dom/view/todo/priority.js");





function bindViewEvents(todo, { editButtons, rangeInput }) {
  const projectName = _dom__WEBPACK_IMPORTED_MODULE_0__["default"].lastViewedProject;

  // Handle priority bar change event

  bindChangeEvents(todo, rangeInput);

  // Handle view mode click events

  editButtons.forEach((button) => {
    button.addEventListener("click", () => {
      switch (button.dataset.control) {
        case "delete":
          ___WEBPACK_IMPORTED_MODULE_1__.projects.get(projectName).deleteTodo(todo.id);
          break;
        case "complete":
          todo.switchComplete();
          break;
        case "edit":
          todo.switchEditMode();
          todo.inputsToPersist = null;
          break;
      }
      _dom__WEBPACK_IMPORTED_MODULE_0__["default"].refreshDisplay(projectName);
    });
  });
}

function bindChangeEvents(todo, todoInputs) {
  const projectName = _dom__WEBPACK_IMPORTED_MODULE_0__["default"].lastViewedProject;

  todoInputs.forEach((input) => {
    input.addEventListener("change", (e) => {
      let { name: prop, value } = e.target;

      if (input.type === "range") {
        value = (0,_priority__WEBPACK_IMPORTED_MODULE_2__.mapValueToPriority)(+e.target.value);
      }

      todo.edit(prop, value);
      _dom__WEBPACK_IMPORTED_MODULE_0__["default"].refreshDisplay(projectName);

      // 0 = Now, 1 = Soon, etc.
    });
  });
}

function bindEditEvents(todo, editButtons, inputsToPersist) {
  const projectName = _dom__WEBPACK_IMPORTED_MODULE_0__["default"].lastViewedProject;

  editButtons.forEach((button) => {
    const control = button.dataset.control;
    button.addEventListener("click", () => {
      switch (control) {
        case "accept":
          const destinationProject = document.getElementById("project").value;
          if (destinationProject !== projectName) {
            ___WEBPACK_IMPORTED_MODULE_1__.projects.get(projectName).deleteTodo(todo.id);
            ___WEBPACK_IMPORTED_MODULE_1__.projects.get(destinationProject).addTodo(todo);
          }
          todo.switchEditMode();
          break;
        case "cancel":
          for (let [prop, value] of Object.entries(inputsToPersist)) {
            todo.edit(prop, value);
          }
          todo.switchEditMode();
          break;
        case "delete":
          ___WEBPACK_IMPORTED_MODULE_1__.projects.get(projectName).deleteTodo(todo.id);
          break;
        case "complete":
          todo.switchComplete();
          break;
      }
      _dom__WEBPACK_IMPORTED_MODULE_0__["default"].refreshDisplay(projectName);
    });
  });
}




/***/ }),

/***/ "./src/dom/view/todo/priority.js":
/*!***************************************!*\
  !*** ./src/dom/view/todo/priority.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mapPriorityToValue": () => (/* binding */ mapPriorityToValue),
/* harmony export */   "mapValueToPriority": () => (/* binding */ mapValueToPriority)
/* harmony export */ });
const priorityValue = {
  Maybe: 0,
  Later: 1,
  Soon: 2,
  Now: 3,
};

// Later = 1

function mapPriorityToValue(priority) {
  return priorityValue[priority];
}

// 1 = Later

function mapValueToPriority(value) {
  return Object.keys(priorityValue).find((key) => priorityValue[key] === value);
}


/***/ }),

/***/ "./src/dom/view/todo/todo.js":
/*!***********************************!*\
  !*** ./src/dom/view/todo/todo.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "todoView": () => (/* binding */ todoView)
/* harmony export */ });
/* harmony import */ var _bindEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bindEvents */ "./src/dom/view/todo/bindEvents.js");
/* harmony import */ var _priority__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./priority */ "./src/dom/view/todo/priority.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../.. */ "./src/index.js");






function todoView(todo, projectName, todosContainer) {
  // Shared between View and Edit modes

  let { title, priority, complete, id: todoId } = todo;

  if (todo.complete) {
    complete = "Done!";
  } else {
    complete = "Not done... yet!";
  }

  // Display todo in View mode

  const view = () => {
    // Generate and append HTML to website

    const viewTemplate = `
    <div class="todo" data-todo_id="${todoId}" data-project_name="${projectName}">
      <p>${title}</p>
      <label for="priority">
            <input type="range" value="${(0,_priority__WEBPACK_IMPORTED_MODULE_1__.mapPriorityToValue)(
              priority
            )}" min="0" max="3" name="priority" id="priority"/>${priority}
      </label>
      <p>${complete}</p>
      <div class="todoEdit">
        <button data-control="edit">Edit</button>
        <button data-control="delete">Delete</button>
        <button data-control="complete">Complete</button>
      </div>
    </div>
    `;

    todosContainer.insertAdjacentHTML("beforeend", viewTemplate);

    // Cache DOM

    const todoDiv = todosContainer.querySelector(
      `div[data-todo_id="${todoId}"`
    );
    const todoControls = {
      editButtons: [...todoDiv.querySelectorAll(".todoEdit button")],
      rangeInput: [todoDiv.querySelector(`label input[type="range"]`)],
    };

    (0,_bindEvents__WEBPACK_IMPORTED_MODULE_0__.bindViewEvents)(todo, todoControls);
  };

  // Display todo in Edit mode

  const edit = () => {
    const editTemplate = `
    <div class="todo" data-todo_id="${todoId}" data-project_name="${projectName}">
      <div class="todoInputs">
        <label for="title">
          <input type="text" value="${title}" name="title" id="title"/>
        </label>
        <label for="priority">
          <input type="range" value="${(0,_priority__WEBPACK_IMPORTED_MODULE_1__.mapPriorityToValue)(
            priority
          )}" min="0" max="3" name="priority" id="priority"/>${priority}
        </label>
        <p>${complete}</p>
        <label for="project">Project
          <select id="project" name="project">
            ${makeProjectDropdown()}
          </select>
        </label>
      </div>
      <div class="todoEdit">
        <button data-control="cancel">Cancel</button>
        <button data-control="delete">Delete</button>
        <button data-control="accept">Accept</button>
        <button data-control="complete">Complete</button>
      </div>
    </div>
      `;

    function makeProjectDropdown() {
      return ___WEBPACK_IMPORTED_MODULE_2__.projects.storage.map((project) => {
        if (project.name === projectName) {
          return `<option value="${project.name}" selected>${project.name}</option>`;
        } else {
          return `<option value="${project.name}">${project.name}</option>`;
        }
      });
    }

    // Append and cache DOM

    todosContainer.insertAdjacentHTML("beforeend", editTemplate);
    const todoDiv = todosContainer.querySelector(
      `div[data-todo_id="${todoId}"`
    );
    const editButtons = [...todoDiv.querySelectorAll(".todoEdit button")];

    // Handle input change events

    const todoInputs = [
      ...todosContainer.querySelectorAll(
        `div[data-todo_id="${todoId}"] div.todoInputs label input`
      ),
    ];

    (0,_bindEvents__WEBPACK_IMPORTED_MODULE_0__.bindChangeEvents)(todo, todoInputs);

    // Used for restoring values after pressing 'Cancel'

    if (todo.inputsToPersist === null) {
      todo.inputsToPersist = {
        title,
      };
    }

    (0,_bindEvents__WEBPACK_IMPORTED_MODULE_0__.bindEditEvents)(todo, editButtons, todo.inputsToPersist);
  };

  return {
    view,
    edit,
  };
}


/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "projects": () => (/* binding */ projects)
/* harmony export */ });
/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.css */ "./src/index.css");
/* harmony import */ var _Todo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Todo */ "./src/Todo.js");
/* harmony import */ var _Project__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Project */ "./src/Project.js");
/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dom/dom */ "./src/dom/dom.js");







const projects = {
  storage: [(0,_Project__WEBPACK_IMPORTED_MODULE_2__["default"])("Inbox"), (0,_Project__WEBPACK_IMPORTED_MODULE_2__["default"])("Your Project")],
  get(name) {
    return this.storage.find((project) => project.name === name);
  },
  add(name) {
    return this.storage.push((0,_Project__WEBPACK_IMPORTED_MODULE_2__["default"])(name));
  },
  remove(name) {
    this.storage = this.storage.filter((project) => project.name !== name);
  },
};

const defaultTodos = [
  (0,_Todo__WEBPACK_IMPORTED_MODULE_1__["default"])("Todo 1", "Now"),
  (0,_Todo__WEBPACK_IMPORTED_MODULE_1__["default"])("Todo 2", "Later"),
  (0,_Todo__WEBPACK_IMPORTED_MODULE_1__["default"])("Todo 3", "Soon"),
];

projects.get("Inbox").addTodo(defaultTodos[0]);
projects.get("Inbox").addTodo(defaultTodos[1]);
projects.get("Your Project").addTodo(defaultTodos[2]);

console.log(projects);

_dom_dom__WEBPACK_IMPORTED_MODULE_3__["default"].refreshDisplay("Inbox");


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7O0FBRUE7O0FBRUEsK0RBQWtCOzs7Ozs7O1VDaENsQjtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsaUNBQWlDLFdBQVc7V0FDNUM7V0FDQTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHlDQUF5Qyx3Q0FBd0M7V0FDakY7V0FDQTtXQUNBOzs7OztXQ1BBOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RDs7Ozs7VUVOQTtVQUNBO1VBQ0E7VUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8vLi9zcmMvaW5kZXguY3NzIiwid2VicGFjazovL3RvZG8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3RvZG8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2luZGV4LmNzcz9jZmU0Iiwid2VicGFjazovL3RvZG8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly90b2RvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL3RvZG8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly90b2RvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdG9kby8uL25vZGVfbW9kdWxlcy91bmlxaWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9Qcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvVG9kby5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2RvbS9kb20uanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9kb20vaGVscGVycy5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2RvbS92aWV3L3Byb2plY3QvYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2RvbS92aWV3L3Byb2plY3QvZm9ybXMuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9kb20vdmlldy9wcm9qZWN0L3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9kb20vdmlldy9wcm9qZWN0L3N0YXRlQ29udGFpbmVyLmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvZG9tL3ZpZXcvdG9kby9iaW5kRXZlbnRzLmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvZG9tL3ZpZXcvdG9kby9wcmlvcml0eS5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2RvbS92aWV3L3RvZG8vdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly90b2RvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG9kby93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3RvZG8vd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly90b2RvL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly90b2RvL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIiosXFxuKjo6YmVmb3JlLFxcbio6OmFmdGVyIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbjpyb290IHtcXG4gIC0tdG9kby1tYXgtd2lkdGg6IDI4MHB4O1xcbn1cXG5cXG5odG1sIHtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuYm9keSB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgNyUpO1xcbiAgY29sb3I6IGhzbCgwLCAwJSwgOTQlKTtcXG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIFJvYm90byxcXG4gICAgT3h5Z2VuLVNhbnMsIFVidW50dSwgQ2FudGFyZWxsLCBcXFwiSGVsdmV0aWNhIE5ldWVcXFwiLCBzYW5zLXNlcmlmO1xcbn1cXG5cXG5kaXYgLnRvZG86bm90KDpudGgtbGFzdC1jaGlsZCgxKSkge1xcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xcbn1cXG5cXG5pbnB1dCxcXG5sYWJlbCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuaW5wdXQsXFxubGFiZWwge1xcbiAgbWFyZ2luLWJsb2NrLWVuZDogMXJlbTtcXG4gIG1hcmdpbi1ibG9jay1zdGFydDogMXJlbTtcXG59XFxuXFxuaDIge1xcbiAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwLjVyZW07XFxuICBtYXJnaW4tYmxvY2stZW5kOiAwLjVyZW07XFxufVxcblxcbmJ1dHRvbiB7XFxuICBiYWNrZ3JvdW5kOiBoc2woMCwgMCUsIDI0JSk7XFxuICBjb2xvcjogd2hpdGU7XFxuICBib3JkZXI6IDA7XFxufVxcblxcbiN0b2Rvc0NvbnRhaW5lciB7XFxuICBtYXJnaW46IDAuNXJlbTtcXG59XFxuXFxuLnRvZG8ge1xcbiAgcGFkZGluZzogMC41cmVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDAsIDAlLCAxNiUpO1xcbiAgLyogd2lkdGg6IGZvciBuZXcgdG9kbyBidXR0b24gcHVycG9zZXMgKi9cXG4gIHdpZHRoOiB2YXIoLS10b2RvLW1heC13aWR0aCk7XFxufVxcblxcbi5jdHJsQnV0dG9uIHtcXG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvaW5kZXguY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOzs7RUFHRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsc0JBQXNCO0VBQ3RCLGdDQUFnQztFQUNoQyxzQkFBc0I7RUFDdEI7Z0VBQzhEO0FBQ2hFOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBOztFQUVFLGNBQWM7QUFDaEI7O0FBRUE7O0VBRUUsc0JBQXNCO0VBQ3RCLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLDBCQUEwQjtFQUMxQix3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IsWUFBWTtFQUNaLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsaUNBQWlDO0VBQ2pDLHdDQUF3QztFQUN4Qyw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxvQkFBb0I7QUFDdEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiKixcXG4qOjpiZWZvcmUsXFxuKjo6YWZ0ZXIge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuOnJvb3Qge1xcbiAgLS10b2RvLW1heC13aWR0aDogMjgwcHg7XFxufVxcblxcbmh0bWwge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG5ib2R5IHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDAsIDAlLCA3JSk7XFxuICBjb2xvcjogaHNsKDAsIDAlLCA5NCUpO1xcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXFxcIlNlZ29lIFVJXFxcIiwgUm9ib3RvLFxcbiAgICBPeHlnZW4tU2FucywgVWJ1bnR1LCBDYW50YXJlbGwsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7XFxufVxcblxcbmRpdiAudG9kbzpub3QoOm50aC1sYXN0LWNoaWxkKDEpKSB7XFxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XFxufVxcblxcbmlucHV0LFxcbmxhYmVsIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG5pbnB1dCxcXG5sYWJlbCB7XFxuICBtYXJnaW4tYmxvY2stZW5kOiAxcmVtO1xcbiAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAxcmVtO1xcbn1cXG5cXG5oMiB7XFxuICBtYXJnaW4tYmxvY2stc3RhcnQ6IDAuNXJlbTtcXG4gIG1hcmdpbi1ibG9jay1lbmQ6IDAuNXJlbTtcXG59XFxuXFxuYnV0dG9uIHtcXG4gIGJhY2tncm91bmQ6IGhzbCgwLCAwJSwgMjQlKTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJvcmRlcjogMDtcXG59XFxuXFxuI3RvZG9zQ29udGFpbmVyIHtcXG4gIG1hcmdpbjogMC41cmVtO1xcbn1cXG5cXG4udG9kbyB7XFxuICBwYWRkaW5nOiAwLjVyZW07XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDE2JSk7XFxuICAvKiB3aWR0aDogZm9yIG5ldyB0b2RvIGJ1dHRvbiBwdXJwb3NlcyAqL1xcbiAgd2lkdGg6IHZhcigtLXRvZG8tbWF4LXdpZHRoKTtcXG59XFxuXFxuLmN0cmxCdXR0b24ge1xcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgJiYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXSk7IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8qIFxuKFRoZSBNSVQgTGljZW5zZSlcbkNvcHlyaWdodCAoYykgMjAxNC0yMDIxIEhhbMOhc3ogw4Fkw6FtIDxhZGFtQGFpbWZvcm0uY29tPlxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4qL1xuXG4vLyAgVW5pcXVlIEhleGF0cmlkZWNpbWFsIElEIEdlbmVyYXRvclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vICBEZXBlbmRlbmNpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxudmFyIHBpZCA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnBpZCA/IHByb2Nlc3MucGlkLnRvU3RyaW5nKDM2KSA6ICcnIDtcbnZhciBhZGRyZXNzID0gJyc7XG5pZih0eXBlb2YgX193ZWJwYWNrX3JlcXVpcmVfXyAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgIHZhciBtYWMgPSAnJywgb3MgPSByZXF1aXJlKCdvcycpOyBcbiAgICBpZihvcy5uZXR3b3JrSW50ZXJmYWNlcykgdmFyIG5ldHdvcmtJbnRlcmZhY2VzID0gb3MubmV0d29ya0ludGVyZmFjZXMoKTtcbiAgICBpZihuZXR3b3JrSW50ZXJmYWNlcyl7XG4gICAgICAgIGxvb3A6XG4gICAgICAgIGZvcihsZXQgaW50ZXJmYWNlX2tleSBpbiBuZXR3b3JrSW50ZXJmYWNlcyl7XG4gICAgICAgICAgICBjb25zdCBuZXR3b3JrSW50ZXJmYWNlID0gbmV0d29ya0ludGVyZmFjZXNbaW50ZXJmYWNlX2tleV07XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBuZXR3b3JrSW50ZXJmYWNlLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgaWYobmV0d29ya0ludGVyZmFjZVtpXSAhPT0gdW5kZWZpbmVkICYmIG5ldHdvcmtJbnRlcmZhY2VbaV0ubWFjICYmIG5ldHdvcmtJbnRlcmZhY2VbaV0ubWFjICE9ICcwMDowMDowMDowMDowMDowMCcpe1xuICAgICAgICAgICAgICAgICAgICBtYWMgPSBuZXR3b3JrSW50ZXJmYWNlW2ldLm1hYzsgYnJlYWsgbG9vcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWRkcmVzcyA9IG1hYyA/IHBhcnNlSW50KG1hYy5yZXBsYWNlKC9cXDp8XFxEKy9naSwgJycpKS50b1N0cmluZygzNikgOiAnJyA7XG4gICAgfVxufSBcblxuLy8gIEV4cG9ydHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxubW9kdWxlLmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24ocHJlZml4LCBzdWZmaXgpeyByZXR1cm4gKHByZWZpeCA/IHByZWZpeCA6ICcnKSArIGFkZHJlc3MgKyBwaWQgKyBub3coKS50b1N0cmluZygzNikgKyAoc3VmZml4ID8gc3VmZml4IDogJycpOyB9XG5tb2R1bGUuZXhwb3J0cy5wcm9jZXNzID0gZnVuY3Rpb24ocHJlZml4LCBzdWZmaXgpeyByZXR1cm4gKHByZWZpeCA/IHByZWZpeCA6ICcnKSArIHBpZCArIG5vdygpLnRvU3RyaW5nKDM2KSArIChzdWZmaXggPyBzdWZmaXggOiAnJyk7IH1cbm1vZHVsZS5leHBvcnRzLnRpbWUgICAgPSBmdW5jdGlvbihwcmVmaXgsIHN1ZmZpeCl7IHJldHVybiAocHJlZml4ID8gcHJlZml4IDogJycpICsgbm93KCkudG9TdHJpbmcoMzYpICsgKHN1ZmZpeCA/IHN1ZmZpeCA6ICcnKTsgfVxuXG4vLyAgSGVscGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5mdW5jdGlvbiBub3coKXtcbiAgICB2YXIgdGltZSA9IERhdGUubm93KCk7XG4gICAgdmFyIGxhc3QgPSBub3cubGFzdCB8fCB0aW1lO1xuICAgIHJldHVybiBub3cubGFzdCA9IHRpbWUgPiBsYXN0ID8gdGltZSA6IGxhc3QgKyAxO1xufVxuIiwiaW1wb3J0IHVuaXFpZCBmcm9tIFwidW5pcWlkXCI7XG5cbmNvbnN0IHByb2plY3RQcm90byA9IHtcbiAgYWRkVG9kbyh0b2RvKSB7XG4gICAgdGhpcy50b2Rvcy5wdXNoKHRvZG8pO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBkZWxldGVUb2RvKHRvZG9JZCkge1xuICAgIGNvbnN0IHRvZG9JZHggPSB0aGlzLnRvZG9zLmZpbmRJbmRleCgodG9kbykgPT4gdG9kby5pZCA9PT0gdG9kb0lkKTtcbiAgICB0aGlzLnRvZG9zLnNwbGljZSh0b2RvSWR4LCAxKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZ2V0VG9kbyh0b2RvSWQpIHtcbiAgICByZXR1cm4gdGhpcy50b2Rvcy5maW5kKCh0b2RvKSA9PiB0b2RvLmlkID09PSB0b2RvSWQpO1xuICB9LFxuICByZW5hbWUobmV3TmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5ld05hbWU7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9qZWN0KG5hbWUpIHtcbiAgY29uc3QgdG9kb3MgPSBbXTtcbiAgY29uc3QgaWQgPSB1bmlxaWQoKTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShwcm9qZWN0UHJvdG8pLCB7IG5hbWUsIGlkLCB0b2RvcyB9KTtcbn1cbiIsImltcG9ydCB1bmlxaWQgZnJvbSBcInVuaXFpZFwiO1xuXG5jb25zdCBUb2RvUHJvdG8gPSB7XG4gIGVkaXQocHJvcCwgdmFsKSB7XG4gICAgdGhpc1twcm9wXSA9IHZhbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc3dpdGNoQ29tcGxldGUoKSB7XG4gICAgdGhpcy5jb21wbGV0ZSA9IHRoaXMuY29tcGxldGUgPyBmYWxzZSA6IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHN3aXRjaEVkaXRNb2RlKCkge1xuICAgIHRoaXMuZWRpdE1vZGUgPSB0aGlzLmVkaXRNb2RlID8gZmFsc2UgOiB0cnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG9kbyh0aXRsZSwgcHJpb3JpdHksIGR1ZURhdGUpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIFRvZG9Qcm90bywge1xuICAgIHRpdGxlLFxuICAgIHByaW9yaXR5LFxuICAgIGR1ZURhdGUsXG4gICAgY29tcGxldGU6IGZhbHNlLFxuICAgIGlkOiB1bmlxaWQoKSxcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBwcm9qZWN0VmlldyB9IGZyb20gXCIuL3ZpZXcvcHJvamVjdC9wcm9qZWN0XCI7XG5cbmNvbnN0IHJlZnJlc2hEaXNwbGF5ID0gKHByb2plY3ROYW1lKSA9PiB7XG4gIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gXCJcIjtcbiAgcHJvamVjdFZpZXcocHJvamVjdE5hbWUpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICByZWZyZXNoRGlzcGxheSxcbiAgbGFzdFZpZXdlZFByb2plY3Q6IG51bGwsXG59O1xuIiwiLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDk0MTQzL2NyZWF0aW5nLWEtbmV3LWRvbS1lbGVtZW50LWZyb20tYW4taHRtbC1zdHJpbmctdXNpbmctYnVpbHQtaW4tZG9tLW1ldGhvZHMtb3ItcHJvLzM1Mzg1NTE4IzM1Mzg1NTE4XG5leHBvcnQgZnVuY3Rpb24gaHRtbFRvRWxlbWVudChodG1sKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgaHRtbCA9IGh0bWwudHJpbSgpOyAvLyBOZXZlciByZXR1cm4gYSB0ZXh0IG5vZGUgb2Ygd2hpdGVzcGFjZSBhcyB0aGUgcmVzdWx0XG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWw7XG4gIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG59XG4iLCJpbXBvcnQgeyBodG1sVG9FbGVtZW50IH0gZnJvbSBcIi4uLy4uL2hlbHBlcnNcIjtcbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4uLy4uLy4uXCI7XG5pbXBvcnQgZG9tIGZyb20gXCIuLi8uLi9kb21cIjtcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSBcIi4vc3RhdGVDb250YWluZXJcIjtcbmltcG9ydCB7IG5ld1Byb2plY3RGb3JtLCBuZXdUb2RvRm9ybSB9IGZyb20gXCIuL2Zvcm1zXCI7XG5cbi8qIFByb2plY3QgaGVhZGluZyAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZWRpdFByb2plY3RCdXR0b25zKHByb2plY3ROYW1lKSB7XG4gIGNvbnN0IGJ1dHRvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBlZGl0UHJvamVjdCA9IGNyZWF0ZUJ1dHRvbihcIkVkaXQgcHJvamVjdFwiKTtcbiAgY29uc3QgZGVsZXRlUHJvamVjdCA9IGNyZWF0ZUJ1dHRvbihcIkRlbGV0ZSBwcm9qZWN0XCIpO1xuICBlZGl0UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHN0YXRlLmVkaXRNb2RlLnByb2plY3RIZWFkaW5nID0gdHJ1ZTtcbiAgICBkb20ucmVmcmVzaERpc3BsYXkocHJvamVjdE5hbWUpO1xuICB9KTtcbiAgZGVsZXRlUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGlmIChwcm9qZWN0cy5zdG9yYWdlLmxlbmd0aCA+IDEpIHtcbiAgICAgIHByb2plY3RzLnJlbW92ZShwcm9qZWN0TmFtZSk7XG4gICAgICBkb20ucmVmcmVzaERpc3BsYXkocHJvamVjdHMuc3RvcmFnZVswXS5uYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoXCJJJ2xsIGltcGxlbWVudCByZW1vdmluZyB0aGUgbGFzdCBwcm9qZWN0IGxhdGVyLCBtYXliZS5cIik7XG4gICAgfVxuICB9KTtcbiAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmQoZWRpdFByb2plY3QsIGRlbGV0ZVByb2plY3QpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZChidXR0b25zQ29udGFpbmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRQcm9qZWN0Q2hvaWNlQnV0dG9ucyhcbiAgZWRpdFByb2plY3REaXYsXG4gIHByb2plY3ROYW1lLFxuICBwcm9qZWN0TmFtZUlucHV0XG4pIHtcbiAgY29uc3QgcmVuYW1lQnV0dG9uID0gZWRpdFByb2plY3REaXYucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgY29uc3QgY2FuY2VsQnV0dG9uID0gZWRpdFByb2plY3REaXYucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJidXR0b25cIl0nKTtcbiAgcmVuYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBuZXdQcm9qZWN0TmFtZSA9IHByb2plY3ROYW1lSW5wdXQudmFsdWU7XG4gICAgcHJvamVjdHMuZ2V0KHByb2plY3ROYW1lKS5yZW5hbWUobmV3UHJvamVjdE5hbWUpO1xuICAgIHN0YXRlLmVkaXRNb2RlLnByb2plY3RIZWFkaW5nID0gZmFsc2U7XG4gICAgZG9tLnJlZnJlc2hEaXNwbGF5KG5ld1Byb2plY3ROYW1lKTtcbiAgfSk7XG4gIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHN0YXRlLmVkaXRNb2RlLnByb2plY3RIZWFkaW5nID0gZmFsc2U7XG4gICAgZG9tLnJlZnJlc2hEaXNwbGF5KGRvbS5sYXN0Vmlld2VkUHJvamVjdCk7XG4gIH0pO1xufVxuXG4vKiBOZXcgdG9kbyBidXR0b24gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld1RvZG9CdXR0b24ocHJvamVjdE5hbWUpIHtcbiAgbGV0IGFkZFRvZG8gPSBgPGJ1dHRvbiBjbGFzcz1cImN0cmxCdXR0b25cIiBkYXRhLWNvbnRyb2w9XCJuZXdUb2RvRm9ybVwiPk5ldyB0b2RvPC9idXR0b24+YDtcbiAgYWRkVG9kbyA9IGh0bWxUb0VsZW1lbnQoYWRkVG9kbyk7XG4gIGFkZFRvZG8uc3R5bGUud2lkdGggPSBcInZhcigtLXRvZG8tbWF4LXdpZHRoKVwiO1xuICBhZGRUb2RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgc3RhdGUuZWRpdE1vZGUubmV3VG9kbyA9IHRydWU7XG4gICAgZG9tLnJlZnJlc2hEaXNwbGF5KGRvbS5sYXN0Vmlld2VkUHJvamVjdCk7XG4gICAgbmV3VG9kb0Zvcm0ocHJvamVjdE5hbWUpOyBcbiAgfSlcbiAgcmV0dXJuIGFkZFRvZG87XG59XG5cbi8qIFByb2plY3QgbGlzdCBidXR0b25zIGFuZCBhZGQgYnV0dG9uICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0TGlzdEJ1dHRvbnMoKSB7XG4gIGNvbnN0IGJ1dHRvbnMgPSBbXTtcbiAgZm9yIChjb25zdCBwcm9qZWN0IG9mIHByb2plY3RzLnN0b3JhZ2UpIHtcbiAgICBjb25zdCBzd2l0Y2hCdXR0b24gPSBjcmVhdGVCdXR0b24ocHJvamVjdC5uYW1lKTtcbiAgICBzd2l0Y2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGRvbS5yZWZyZXNoRGlzcGxheShwcm9qZWN0Lm5hbWUpO1xuICAgIH0pO1xuICAgIGJ1dHRvbnMucHVzaChzd2l0Y2hCdXR0b24pO1xuICB9XG4gIHJldHVybiBidXR0b25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3UHJvamVjdEJ1dHRvbigpIHtcbiAgY29uc3QgYWRkQnV0dG9uID0gY3JlYXRlQnV0dG9uKFwiK1wiKTtcbiAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY29uc3QgW25ld1Byb2plY3REaXYsIG5ld1Byb2plY3RJbnB1dF0gPSBuZXdQcm9qZWN0Rm9ybSgpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IG5ld1Byb2plY3REaXYucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBuZXdQcm9qZWN0RGl2LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwiYnV0dG9uXCJdJyk7XG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgbmV3UHJvamVjdE5hbWUgPSBuZXdQcm9qZWN0SW5wdXQudmFsdWU7XG4gICAgICBwcm9qZWN0cy5hZGQobmV3UHJvamVjdE5hbWUpO1xuICAgICAgZG9tLnJlZnJlc2hEaXNwbGF5KG5ld1Byb2plY3ROYW1lKTtcbiAgICB9KTtcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgXG4gICAgICBkb20ucmVmcmVzaERpc3BsYXkoZG9tLmxhc3RWaWV3ZWRQcm9qZWN0KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBhZGRCdXR0b247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCdXR0b24odGV4dCkge1xuICBjb25zdCBodG1sID0gYDxidXR0b24gY2xhc3M9XCJjdHJsQnV0dG9uXCI+JHt0ZXh0fTwvYnV0dG9uPmA7XG4gIHJldHVybiBodG1sVG9FbGVtZW50KGh0bWwpO1xufVxuIiwiaW1wb3J0IHsgZWRpdFByb2plY3RDaG9pY2VCdXR0b25zIH0gZnJvbSBcIi4vYnV0dG9uc1wiO1xuaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi4vLi4vLi5cIjtcblxuaW1wb3J0IFRvZG8gZnJvbSBcIi4uLy4uLy4uL1RvZG9cIjtcbmltcG9ydCB7IG1hcFByaW9yaXR5VG9WYWx1ZSwgbWFwVmFsdWVUb1ByaW9yaXR5IH0gZnJvbSBcIi4uL3RvZG8vcHJpb3JpdHlcIjtcblxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tIFwiLi9zdGF0ZUNvbnRhaW5lclwiO1xuaW1wb3J0IHsgaHRtbFRvRWxlbWVudCB9IGZyb20gXCIuLi8uLi9oZWxwZXJzXCI7XG5pbXBvcnQgZG9tIGZyb20gXCIuLi8uLi9kb21cIjtcblxuZXhwb3J0IGNvbnN0IGVkaXRQcm9qZWN0TmFtZUZvcm0gPSAocHJvamVjdE5hbWUpID0+IHtcbiAgY29uc3QgZWRpdFByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBlZGl0UHJvamVjdEZvcm0gPSBgXG4gIDxmb3JtIGFjdGlvbj1cIiNcIiBtZXRob2Q9XCJwb3N0XCI+XG4gICAgPGRpdj5cbiAgICAgIDxsYWJlbCBmb3I9XCJwcm9qZWN0SGVhZGluZ05hbWVcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInByb2plY3RIZWFkaW5nTmFtZVwiIGlkPVwicHJvamVjdEhlYWRpbmdOYW1lXCIgdmFsdWU9XCIke3Byb2plY3ROYW1lfVwiLz5cbiAgICAgIDwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlJlbmFtZTwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIDwvZm9ybT5cbmA7XG4gIGVkaXRQcm9qZWN0RGl2Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBlZGl0UHJvamVjdEZvcm0pO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZChlZGl0UHJvamVjdERpdik7XG4gIGNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSBlZGl0UHJvamVjdERpdi5xdWVyeVNlbGVjdG9yKFxuICAgICdpbnB1dFtuYW1lPVwicHJvamVjdEhlYWRpbmdOYW1lXCJdJ1xuICApO1xuICBlZGl0UHJvamVjdENob2ljZUJ1dHRvbnMoZWRpdFByb2plY3REaXYsIHByb2plY3ROYW1lLCBwcm9qZWN0TmFtZUlucHV0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBuZXdQcm9qZWN0Rm9ybSA9ICgpID0+IHtcbiAgY29uc3QgZGVmYXVsdE5hbWUgPSBwcm9qZWN0cy5zdG9yYWdlLmxlbmd0aCArIDE7XG4gIGNvbnN0IG5ld1Byb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBwcm9qZWN0Rm9ybSA9IGBcbiAgICAgIDxmb3JtIGFjdGlvbj1cIiNcIiBtZXRob2Q9XCJwb3N0XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGZvcj1cIm5ld1Byb2plY3RcIj5OZXcgcHJvamVjdCBcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuZXdQcm9qZWN0XCIgaWQ9XCJuZXdQcm9qZWN0XCIgdmFsdWU9XCJQcm9qZWN0ICR7ZGVmYXVsdE5hbWV9XCIvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPkFkZDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICBgO1xuICBuZXdQcm9qZWN0RGl2Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBwcm9qZWN0Rm9ybSk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKG5ld1Byb2plY3REaXYpO1xuICBjb25zdCBuZXdQcm9qZWN0SW5wdXQgPSBuZXdQcm9qZWN0RGl2LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJ2lucHV0W25hbWU9XCJuZXdQcm9qZWN0XCJdJ1xuICApO1xuICByZXR1cm4gW25ld1Byb2plY3REaXYsIG5ld1Byb2plY3RJbnB1dF07XG59O1xuXG5leHBvcnQgY29uc3QgbmV3VG9kb0Zvcm0gPSAocHJvamVjdE5hbWUpID0+IHtcblxuICBjb25zdCBkZWZhdWx0TmFtZSA9IGBUb2RvICR7XG4gICAgcHJvamVjdHMuZ2V0KHByb2plY3ROYW1lKS50b2Rvcy5sZW5ndGggKyAxXG4gIH1gO1xuXG4gIGxldCB7dGl0bGUsIHByaW9yaXR5LCB0b2RvSWQsIGNvbXBsZXRlfSA9IFRvZG8oZGVmYXVsdE5hbWUsIFwiU29vblwiKTsgXG5cbiAgaWYgKGNvbXBsZXRlKSB7XG4gICAgY29tcGxldGUgPSBcIkRvbmUhXCI7XG4gIH0gZWxzZSB7XG4gICAgY29tcGxldGUgPSBcIk5vdCBkb25lLi4uIHlldCFcIjtcbiAgfVxuXG4gIGxldCBuZXdUb2RvRm9ybSA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidG9kb1wiIGRhdGEtdG9kb19pZD1cIiR7dG9kb0lkfVwiIGRhdGEtcHJvamVjdF9uYW1lPVwiJHtwcm9qZWN0TmFtZX1cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0b2RvSW5wdXRzXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJ0aXRsZVwiPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJHt0aXRsZX1cIiBuYW1lPVwidGl0bGVcIiBpZD1cInRpdGxlXCIvPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8bGFiZWwgZm9yPVwicHJpb3JpdHlcIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgdmFsdWU9XCIke21hcFByaW9yaXR5VG9WYWx1ZShcbiAgICAgICAgICAgIHByaW9yaXR5XG4gICAgICAgICAgKX1cIiBtaW49XCIwXCIgbWF4PVwiM1wiIG5hbWU9XCJwcmlvcml0eVwiIGlkPVwicHJpb3JpdHlcIi8+JHtwcmlvcml0eX1cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPHA+JHtjb21wbGV0ZX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0b2RvRWRpdFwiPlxuICAgICAgICA8YnV0dG9uIGRhdGEtY29udHJvbD1cImFkZFRvZG9cIj5BZGQ8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBkYXRhLWNvbnRyb2w9XCJjYW5jZWxUb2RvXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuICBuZXdUb2RvRm9ybSA9IGh0bWxUb0VsZW1lbnQobmV3VG9kb0Zvcm0pO1xuICBcbiAgY29uc3QgY2FuY2VsVG9kbyA9IG5ld1RvZG9Gb3JtLnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbltkYXRhLWNvbnRyb2w9XCJjYW5jZWxUb2RvXCJdYCk7XG4gIGNvbnN0IGFkZFRvZG8gPSBuZXdUb2RvRm9ybS5xdWVyeVNlbGVjdG9yKGBidXR0b25bZGF0YS1jb250cm9sPVwiYWRkVG9kb1wiXWApO1xuXG5cblxuICBhZGRUb2RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgc3RhdGUuZWRpdE1vZGUubmV3VG9kbyA9IGZhbHNlO1xuICAgIHRpdGxlID0gbmV3VG9kb0Zvcm0ucXVlcnlTZWxlY3RvcihgaW5wdXQjdGl0bGVgKS52YWx1ZTtcbiAgICBwcmlvcml0eSA9IG5ld1RvZG9Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0I3ByaW9yaXR5JykudmFsdWU7XG4gICAgcHJpb3JpdHkgPSBtYXBWYWx1ZVRvUHJpb3JpdHkoK3ByaW9yaXR5KTtcbiAgICBwcm9qZWN0cy5nZXQocHJvamVjdE5hbWUpLmFkZFRvZG8oVG9kbyh0aXRsZSwgcHJpb3JpdHkpKTtcbiAgfSlcblxuICBjYW5jZWxUb2RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgc3RhdGUuZWRpdE1vZGUubmV3VG9kbyA9IGZhbHNlO1xuICAgIGRvbS5yZWZyZXNoRGlzcGxheShwcm9qZWN0TmFtZSk7XG4gIH0pXG5cbiAgY29uc3QgdG9kb3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZG9zQ29udGFpbmVyXCIpO1xuICB0b2Rvc0NvbnRhaW5lci5hcHBlbmQobmV3VG9kb0Zvcm0pOyBcbn07XG4iLCJpbXBvcnQgZG9tIGZyb20gXCIuLi8uLi9kb21cIjtcbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4uLy4uLy4uXCI7XG5pbXBvcnQgeyB0b2RvVmlldyB9IGZyb20gXCIuLi90b2RvL3RvZG9cIjtcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSBcIi4vc3RhdGVDb250YWluZXJcIjtcbmltcG9ydCB7XG4gIHByb2plY3RMaXN0QnV0dG9ucyxcbiAgZWRpdFByb2plY3RCdXR0b25zLFxuICBuZXdUb2RvQnV0dG9uLFxuICBuZXdQcm9qZWN0QnV0dG9uLFxufSBmcm9tIFwiLi9idXR0b25zXCI7XG5pbXBvcnQgeyBlZGl0UHJvamVjdE5hbWVGb3JtIH0gZnJvbSBcIi4vZm9ybXNcIjtcblxuZXhwb3J0IGNvbnN0IHByb2plY3RWaWV3ID0gKHByb2plY3ROYW1lKSA9PiB7XG4gIGRvbS5sYXN0Vmlld2VkUHJvamVjdCA9IHByb2plY3ROYW1lO1xuXG4gIGlmIChzdGF0ZS5lZGl0TW9kZS5wcm9qZWN0SGVhZGluZykge1xuICAgIGVkaXRQcm9qZWN0TmFtZUZvcm0ocHJvamVjdE5hbWUpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgXCJiZWZvcmVlbmRcIixcbiAgICAgIGA8aDIgaWQ9XCJwcm9qZWN0SGVhZGluZ1wiPiR7cHJvamVjdE5hbWV9PC9oMj5gXG4gICAgKTtcbiAgfVxuXG4gIGlmICghc3RhdGUuZWRpdE1vZGUucHJvamVjdEhlYWRpbmcgJiYgIXN0YXRlLmVkaXRNb2RlLm5ld1RvZG8pIHtcbiAgICBlZGl0UHJvamVjdEJ1dHRvbnMocHJvamVjdE5hbWUpO1xuICB9XG5cbiAgLy8gQ3JlYXRlIHRvZG9zIGVpdGhlciBpbiB2aWV3LCBvciBlZGl0IG1vZGVcbiAgY29uc3QgdG9kb3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0b2Rvc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRvZG9zQ29udGFpbmVyXCIpO1xuICBpZighc3RhdGUuZWRpdE1vZGUubmV3VG9kbykge1xuICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0cy5nZXQocHJvamVjdE5hbWUpO1xuICAgIHByb2plY3QudG9kb3MuZm9yRWFjaCgodG9kbykgPT4ge1xuICAgICAgaWYgKCF0b2RvLmVkaXRNb2RlKSB7XG4gICAgICAgIHRvZG9WaWV3KHRvZG8sIHByb2plY3ROYW1lLCB0b2Rvc0NvbnRhaW5lcikudmlldygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9kb1ZpZXcodG9kbywgcHJvamVjdE5hbWUsIHRvZG9zQ29udGFpbmVyKS5lZGl0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0b2Rvc0NvbnRhaW5lcik7XG5cbiAgaWYoIXN0YXRlLmVkaXRNb2RlLm5ld1RvZG8pIHtcbiAgICB0b2Rvc0NvbnRhaW5lci5hcHBlbmQobmV3VG9kb0J1dHRvbihwcm9qZWN0TmFtZSkpO1xuICAgIGNvbnN0IHByb2plY3RzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJvamVjdHNMaXN0LmFwcGVuZCguLi5wcm9qZWN0TGlzdEJ1dHRvbnMoKSwgbmV3UHJvamVjdEJ1dHRvbigpKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChwcm9qZWN0c0xpc3QpO1xuICB9XG5cblxuXG59O1xuIiwiZXhwb3J0IGNvbnN0IHN0YXRlID0ge1xuICBlZGl0TW9kZToge1xuICAgIHByb2plY3RIZWFkaW5nOiBmYWxzZSwgXG4gICAgbmV3VG9kbzogZmFsc2UsXG4gIH0gXG59IiwiaW1wb3J0IGRvbSBmcm9tIFwiLi4vLi4vZG9tXCI7XG5pbXBvcnQgeyBwcm9qZWN0cyB9IGZyb20gXCIuLi8uLi8uLlwiO1xuXG5pbXBvcnQgeyBtYXBWYWx1ZVRvUHJpb3JpdHkgfSBmcm9tIFwiLi9wcmlvcml0eVwiO1xuXG5mdW5jdGlvbiBiaW5kVmlld0V2ZW50cyh0b2RvLCB7IGVkaXRCdXR0b25zLCByYW5nZUlucHV0IH0pIHtcbiAgY29uc3QgcHJvamVjdE5hbWUgPSBkb20ubGFzdFZpZXdlZFByb2plY3Q7XG5cbiAgLy8gSGFuZGxlIHByaW9yaXR5IGJhciBjaGFuZ2UgZXZlbnRcblxuICBiaW5kQ2hhbmdlRXZlbnRzKHRvZG8sIHJhbmdlSW5wdXQpO1xuXG4gIC8vIEhhbmRsZSB2aWV3IG1vZGUgY2xpY2sgZXZlbnRzXG5cbiAgZWRpdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzd2l0Y2ggKGJ1dHRvbi5kYXRhc2V0LmNvbnRyb2wpIHtcbiAgICAgICAgY2FzZSBcImRlbGV0ZVwiOlxuICAgICAgICAgIHByb2plY3RzLmdldChwcm9qZWN0TmFtZSkuZGVsZXRlVG9kbyh0b2RvLmlkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbXBsZXRlXCI6XG4gICAgICAgICAgdG9kby5zd2l0Y2hDb21wbGV0ZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZWRpdFwiOlxuICAgICAgICAgIHRvZG8uc3dpdGNoRWRpdE1vZGUoKTtcbiAgICAgICAgICB0b2RvLmlucHV0c1RvUGVyc2lzdCA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkb20ucmVmcmVzaERpc3BsYXkocHJvamVjdE5hbWUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYmluZENoYW5nZUV2ZW50cyh0b2RvLCB0b2RvSW5wdXRzKSB7XG4gIGNvbnN0IHByb2plY3ROYW1lID0gZG9tLmxhc3RWaWV3ZWRQcm9qZWN0O1xuXG4gIHRvZG9JbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlKSA9PiB7XG4gICAgICBsZXQgeyBuYW1lOiBwcm9wLCB2YWx1ZSB9ID0gZS50YXJnZXQ7XG5cbiAgICAgIGlmIChpbnB1dC50eXBlID09PSBcInJhbmdlXCIpIHtcbiAgICAgICAgdmFsdWUgPSBtYXBWYWx1ZVRvUHJpb3JpdHkoK2UudGFyZ2V0LnZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdG9kby5lZGl0KHByb3AsIHZhbHVlKTtcbiAgICAgIGRvbS5yZWZyZXNoRGlzcGxheShwcm9qZWN0TmFtZSk7XG5cbiAgICAgIC8vIDAgPSBOb3csIDEgPSBTb29uLCBldGMuXG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBiaW5kRWRpdEV2ZW50cyh0b2RvLCBlZGl0QnV0dG9ucywgaW5wdXRzVG9QZXJzaXN0KSB7XG4gIGNvbnN0IHByb2plY3ROYW1lID0gZG9tLmxhc3RWaWV3ZWRQcm9qZWN0O1xuXG4gIGVkaXRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGNvbnN0IGNvbnRyb2wgPSBidXR0b24uZGF0YXNldC5jb250cm9sO1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc3dpdGNoIChjb250cm9sKSB7XG4gICAgICAgIGNhc2UgXCJhY2NlcHRcIjpcbiAgICAgICAgICBjb25zdCBkZXN0aW5hdGlvblByb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIikudmFsdWU7XG4gICAgICAgICAgaWYgKGRlc3RpbmF0aW9uUHJvamVjdCAhPT0gcHJvamVjdE5hbWUpIHtcbiAgICAgICAgICAgIHByb2plY3RzLmdldChwcm9qZWN0TmFtZSkuZGVsZXRlVG9kbyh0b2RvLmlkKTtcbiAgICAgICAgICAgIHByb2plY3RzLmdldChkZXN0aW5hdGlvblByb2plY3QpLmFkZFRvZG8odG9kbyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvZG8uc3dpdGNoRWRpdE1vZGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNhbmNlbFwiOlxuICAgICAgICAgIGZvciAobGV0IFtwcm9wLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaW5wdXRzVG9QZXJzaXN0KSkge1xuICAgICAgICAgICAgdG9kby5lZGl0KHByb3AsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9kby5zd2l0Y2hFZGl0TW9kZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgICAgcHJvamVjdHMuZ2V0KHByb2plY3ROYW1lKS5kZWxldGVUb2RvKHRvZG8uaWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICB0b2RvLnN3aXRjaENvbXBsZXRlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkb20ucmVmcmVzaERpc3BsYXkocHJvamVjdE5hbWUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgYmluZENoYW5nZUV2ZW50cywgYmluZEVkaXRFdmVudHMsIGJpbmRWaWV3RXZlbnRzIH07XG4iLCJjb25zdCBwcmlvcml0eVZhbHVlID0ge1xuICBNYXliZTogMCxcbiAgTGF0ZXI6IDEsXG4gIFNvb246IDIsXG4gIE5vdzogMyxcbn07XG5cbi8vIExhdGVyID0gMVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwUHJpb3JpdHlUb1ZhbHVlKHByaW9yaXR5KSB7XG4gIHJldHVybiBwcmlvcml0eVZhbHVlW3ByaW9yaXR5XTtcbn1cblxuLy8gMSA9IExhdGVyXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBWYWx1ZVRvUHJpb3JpdHkodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHByaW9yaXR5VmFsdWUpLmZpbmQoKGtleSkgPT4gcHJpb3JpdHlWYWx1ZVtrZXldID09PSB2YWx1ZSk7XG59XG4iLCJpbXBvcnQgeyBiaW5kQ2hhbmdlRXZlbnRzLCBiaW5kRWRpdEV2ZW50cywgYmluZFZpZXdFdmVudHMgfSBmcm9tIFwiLi9iaW5kRXZlbnRzXCI7XG5cbmltcG9ydCB7IG1hcFByaW9yaXR5VG9WYWx1ZSB9IGZyb20gXCIuL3ByaW9yaXR5XCI7XG5cbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4uLy4uLy4uXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2RvVmlldyh0b2RvLCBwcm9qZWN0TmFtZSwgdG9kb3NDb250YWluZXIpIHtcbiAgLy8gU2hhcmVkIGJldHdlZW4gVmlldyBhbmQgRWRpdCBtb2Rlc1xuXG4gIGxldCB7IHRpdGxlLCBwcmlvcml0eSwgY29tcGxldGUsIGlkOiB0b2RvSWQgfSA9IHRvZG87XG5cbiAgaWYgKHRvZG8uY29tcGxldGUpIHtcbiAgICBjb21wbGV0ZSA9IFwiRG9uZSFcIjtcbiAgfSBlbHNlIHtcbiAgICBjb21wbGV0ZSA9IFwiTm90IGRvbmUuLi4geWV0IVwiO1xuICB9XG5cbiAgLy8gRGlzcGxheSB0b2RvIGluIFZpZXcgbW9kZVxuXG4gIGNvbnN0IHZpZXcgPSAoKSA9PiB7XG4gICAgLy8gR2VuZXJhdGUgYW5kIGFwcGVuZCBIVE1MIHRvIHdlYnNpdGVcblxuICAgIGNvbnN0IHZpZXdUZW1wbGF0ZSA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidG9kb1wiIGRhdGEtdG9kb19pZD1cIiR7dG9kb0lkfVwiIGRhdGEtcHJvamVjdF9uYW1lPVwiJHtwcm9qZWN0TmFtZX1cIj5cbiAgICAgIDxwPiR7dGl0bGV9PC9wPlxuICAgICAgPGxhYmVsIGZvcj1cInByaW9yaXR5XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgdmFsdWU9XCIke21hcFByaW9yaXR5VG9WYWx1ZShcbiAgICAgICAgICAgICAgcHJpb3JpdHlcbiAgICAgICAgICAgICl9XCIgbWluPVwiMFwiIG1heD1cIjNcIiBuYW1lPVwicHJpb3JpdHlcIiBpZD1cInByaW9yaXR5XCIvPiR7cHJpb3JpdHl9XG4gICAgICA8L2xhYmVsPlxuICAgICAgPHA+JHtjb21wbGV0ZX08L3A+XG4gICAgICA8ZGl2IGNsYXNzPVwidG9kb0VkaXRcIj5cbiAgICAgICAgPGJ1dHRvbiBkYXRhLWNvbnRyb2w9XCJlZGl0XCI+RWRpdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGRhdGEtY29udHJvbD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGRhdGEtY29udHJvbD1cImNvbXBsZXRlXCI+Q29tcGxldGU8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICB0b2Rvc0NvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgdmlld1RlbXBsYXRlKTtcblxuICAgIC8vIENhY2hlIERPTVxuXG4gICAgY29uc3QgdG9kb0RpdiA9IHRvZG9zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgZGl2W2RhdGEtdG9kb19pZD1cIiR7dG9kb0lkfVwiYFxuICAgICk7XG4gICAgY29uc3QgdG9kb0NvbnRyb2xzID0ge1xuICAgICAgZWRpdEJ1dHRvbnM6IFsuLi50b2RvRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kb0VkaXQgYnV0dG9uXCIpXSxcbiAgICAgIHJhbmdlSW5wdXQ6IFt0b2RvRGl2LnF1ZXJ5U2VsZWN0b3IoYGxhYmVsIGlucHV0W3R5cGU9XCJyYW5nZVwiXWApXSxcbiAgICB9O1xuXG4gICAgYmluZFZpZXdFdmVudHModG9kbywgdG9kb0NvbnRyb2xzKTtcbiAgfTtcblxuICAvLyBEaXNwbGF5IHRvZG8gaW4gRWRpdCBtb2RlXG5cbiAgY29uc3QgZWRpdCA9ICgpID0+IHtcbiAgICBjb25zdCBlZGl0VGVtcGxhdGUgPSBgXG4gICAgPGRpdiBjbGFzcz1cInRvZG9cIiBkYXRhLXRvZG9faWQ9XCIke3RvZG9JZH1cIiBkYXRhLXByb2plY3RfbmFtZT1cIiR7cHJvamVjdE5hbWV9XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidG9kb0lucHV0c1wiPlxuICAgICAgICA8bGFiZWwgZm9yPVwidGl0bGVcIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7dGl0bGV9XCIgbmFtZT1cInRpdGxlXCIgaWQ9XCJ0aXRsZVwiLz5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGxhYmVsIGZvcj1cInByaW9yaXR5XCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIHZhbHVlPVwiJHttYXBQcmlvcml0eVRvVmFsdWUoXG4gICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICl9XCIgbWluPVwiMFwiIG1heD1cIjNcIiBuYW1lPVwicHJpb3JpdHlcIiBpZD1cInByaW9yaXR5XCIvPiR7cHJpb3JpdHl9XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxwPiR7Y29tcGxldGV9PC9wPlxuICAgICAgICA8bGFiZWwgZm9yPVwicHJvamVjdFwiPlByb2plY3RcbiAgICAgICAgICA8c2VsZWN0IGlkPVwicHJvamVjdFwiIG5hbWU9XCJwcm9qZWN0XCI+XG4gICAgICAgICAgICAke21ha2VQcm9qZWN0RHJvcGRvd24oKX1cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInRvZG9FZGl0XCI+XG4gICAgICAgIDxidXR0b24gZGF0YS1jb250cm9sPVwiY2FuY2VsXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gZGF0YS1jb250cm9sPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gZGF0YS1jb250cm9sPVwiYWNjZXB0XCI+QWNjZXB0PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gZGF0YS1jb250cm9sPVwiY29tcGxldGVcIj5Db21wbGV0ZTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgICBgO1xuXG4gICAgZnVuY3Rpb24gbWFrZVByb2plY3REcm9wZG93bigpIHtcbiAgICAgIHJldHVybiBwcm9qZWN0cy5zdG9yYWdlLm1hcCgocHJvamVjdCkgPT4ge1xuICAgICAgICBpZiAocHJvamVjdC5uYW1lID09PSBwcm9qZWN0TmFtZSkge1xuICAgICAgICAgIHJldHVybiBgPG9wdGlvbiB2YWx1ZT1cIiR7cHJvamVjdC5uYW1lfVwiIHNlbGVjdGVkPiR7cHJvamVjdC5uYW1lfTwvb3B0aW9uPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGA8b3B0aW9uIHZhbHVlPVwiJHtwcm9qZWN0Lm5hbWV9XCI+JHtwcm9qZWN0Lm5hbWV9PC9vcHRpb24+YDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIGFuZCBjYWNoZSBET01cblxuICAgIHRvZG9zQ29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBlZGl0VGVtcGxhdGUpO1xuICAgIGNvbnN0IHRvZG9EaXYgPSB0b2Rvc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGRpdltkYXRhLXRvZG9faWQ9XCIke3RvZG9JZH1cImBcbiAgICApO1xuICAgIGNvbnN0IGVkaXRCdXR0b25zID0gWy4uLnRvZG9EaXYucXVlcnlTZWxlY3RvckFsbChcIi50b2RvRWRpdCBidXR0b25cIildO1xuXG4gICAgLy8gSGFuZGxlIGlucHV0IGNoYW5nZSBldmVudHNcblxuICAgIGNvbnN0IHRvZG9JbnB1dHMgPSBbXG4gICAgICAuLi50b2Rvc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICBgZGl2W2RhdGEtdG9kb19pZD1cIiR7dG9kb0lkfVwiXSBkaXYudG9kb0lucHV0cyBsYWJlbCBpbnB1dGBcbiAgICAgICksXG4gICAgXTtcblxuICAgIGJpbmRDaGFuZ2VFdmVudHModG9kbywgdG9kb0lucHV0cyk7XG5cbiAgICAvLyBVc2VkIGZvciByZXN0b3JpbmcgdmFsdWVzIGFmdGVyIHByZXNzaW5nICdDYW5jZWwnXG5cbiAgICBpZiAodG9kby5pbnB1dHNUb1BlcnNpc3QgPT09IG51bGwpIHtcbiAgICAgIHRvZG8uaW5wdXRzVG9QZXJzaXN0ID0ge1xuICAgICAgICB0aXRsZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgYmluZEVkaXRFdmVudHModG9kbywgZWRpdEJ1dHRvbnMsIHRvZG8uaW5wdXRzVG9QZXJzaXN0KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHZpZXcsXG4gICAgZWRpdCxcbiAgfTtcbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCBUb2RvIGZyb20gXCIuL1RvZG9cIjtcbmltcG9ydCBQcm9qZWN0IGZyb20gXCIuL1Byb2plY3RcIjtcblxuaW1wb3J0IGRvbSBmcm9tIFwiLi9kb20vZG9tXCI7XG5cbmV4cG9ydCBjb25zdCBwcm9qZWN0cyA9IHtcbiAgc3RvcmFnZTogW1Byb2plY3QoXCJJbmJveFwiKSwgUHJvamVjdChcIllvdXIgUHJvamVjdFwiKV0sXG4gIGdldChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5maW5kKChwcm9qZWN0KSA9PiBwcm9qZWN0Lm5hbWUgPT09IG5hbWUpO1xuICB9LFxuICBhZGQobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UucHVzaChQcm9qZWN0KG5hbWUpKTtcbiAgfSxcbiAgcmVtb3ZlKG5hbWUpIHtcbiAgICB0aGlzLnN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2UuZmlsdGVyKChwcm9qZWN0KSA9PiBwcm9qZWN0Lm5hbWUgIT09IG5hbWUpO1xuICB9LFxufTtcblxuY29uc3QgZGVmYXVsdFRvZG9zID0gW1xuICBUb2RvKFwiVG9kbyAxXCIsIFwiTm93XCIpLFxuICBUb2RvKFwiVG9kbyAyXCIsIFwiTGF0ZXJcIiksXG4gIFRvZG8oXCJUb2RvIDNcIiwgXCJTb29uXCIpLFxuXTtcblxucHJvamVjdHMuZ2V0KFwiSW5ib3hcIikuYWRkVG9kbyhkZWZhdWx0VG9kb3NbMF0pO1xucHJvamVjdHMuZ2V0KFwiSW5ib3hcIikuYWRkVG9kbyhkZWZhdWx0VG9kb3NbMV0pO1xucHJvamVjdHMuZ2V0KFwiWW91ciBQcm9qZWN0XCIpLmFkZFRvZG8oZGVmYXVsdFRvZG9zWzJdKTtcblxuY29uc29sZS5sb2cocHJvamVjdHMpO1xuXG5kb20ucmVmcmVzaERpc3BsYXkoXCJJbmJveFwiKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9pbmRleC5qc1wiKTtcbiIsIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==